---
type: tracking
doc_type: Progress
status: In Progress
created: 2026-01-29
updated: 2026-02-11T23:30
---

  

# 프로젝트 진행 상황

  

> 연구개발 프로젝트 관리 시스템 개발 진행 현황

  

---

  

## ✅ 완료된 작업 (2026-01-29)

  

### 1. 기획 문서 완성

- [x] **PRD.md** - 프로젝트 요구사항 정의서

  - 5단계 권한 체계 (일반/팀장/관리자/경영진/시스템관리자)

  - 경영진 대시보드 (즐겨찾기, 계획vs실적, 코멘트)

  - 프로젝트 상세 팝업 추가

  

- [x] **Roadmap.md** - 와이어프레임 (2.1 ~ 2.26)

  - 전체 화면 구성 완료

  - 경영진 대시보드 (2.23 ~ 2.26)

  - 주간 보고 AI 요약 기능

  

### 2. 기술 문서 작성

- [x] **Mermaid.md** - 시스템 아키텍처 다이어그램

  - 전체 시스템 개요 (색상 적용)

  - 권한 체계, 데이터 구조 (ER Diagram)

  - 경영진 대시보드 구조

  

- [x] **claude 사용법.md** - Claude Code 활용 가이드

  - 대화 이력 관리

  - Mermaid 사용법

  - VSCode 연동

  

### 3. 프로젝트 규칙 정의

- [x] **PROJECT_RULES.md** - 개발 규칙 및 가이드라인

  - ❌ 절대 금지: 별도 백엔드 API 서버, 한글 파일명, 환경변수 하드코딩

  - ✅ 반드시 지킬 것: Next.js API Routes, Google Sheets DB, AI 친화적 코드

  - 코딩 컨벤션, 보안 규칙, 테스트 전략

  - 개발 주체: Claude 100% 코드 작성

  

---

  

## 📋 다음 단계 (Next Session)

  

### Phase 0: 개발 환경 설정 ✅ 완료 (2026-02-04)

- [x] Google Sheets 템플릿 구조 설계 ✅ (2026-02-02)
  - 13개 시트 구조 정의 완료
  - → [02-technical/GoogleSheets_Template.md](../02-technical/GoogleSheets_Template.md)

- [x] Google Cloud 설정 ✅ (2026-02-02)
  - Service Account, API 활성화 가이드 작성
  - → [02-technical/GoogleCloud_Setup.md](../02-technical/GoogleCloud_Setup.md)

- [x] Google Cloud 프로젝트 생성 ✅ (2026-02-03)
  - 조직 없이 프로젝트 생성 (권한 이슈 해결)
  - Sheets API 활성화
  - Service Account 생성 + JSON 키 발급

- [x] Google Sheets 생성 및 초기 데이터 ✅ (2026-02-03)
  - Spreadsheet 생성: ProjectManager_DB
  - 13개 시트 생성 + 헤더 입력
  - 초기 데이터 입력 (Users, ReportCategories, Settings)
  - Spreadsheet ID: `1p86i_wJpC2z5j25tuGTfj1RykMbBoZ0i4E4hVSYO1ek`

- [x] 프로젝트 초기화 (Next.js 14+) ✅ (2026-02-03)
  - Next.js 16.1.6 + React 19 + TypeScript
  - Tailwind CSS 4 + ESLint 설정
  - App Router (src/app) 구조
  - node_modules 설치 완료

- [x] 폴더 구조 생성 ✅ (2026-02-03)
  - [x] components/ (common, layout, forms, tables, charts)
  - [x] lib/ (Google Sheets 연동)
  - [x] types/ (TypeScript 타입)
  - [x] hooks/ (커스텀 훅)
  - [x] utils/ (유틸리티 함수)

- [x] TypeScript 타입 정의 ✅ (2026-02-03)
  - [x] 13개 시트 데이터 타입 (user, project, worklog, weeklyReport, schedule, comment, attachment, settings)
  - [x] API 응답 타입 (api.ts)
  - [x] 폼 입력 타입 (Create/Update Input 타입)

- [x] 환경 변수 템플릿 (.env.example) ✅ (2026-02-04)
  - [x] Google Sheets 인증 정보
  - [x] 앱 설정

- [x] .gitignore 보안 설정 ✅ (2026-02-04)
  - [x] credentials 폴더 제외
  - [x] .env.local 제외 (.env.example은 포함)

  

### Phase 1: MVP (핵심 기능) ✅ 완료 (2026-02-05)

#### 1.1 Google Sheets 연동 (PRD 3.6) ✅ 완료 (2026-02-04)
- [x] **lib/google/ 구현**
  - [x] Sheets API 클라이언트 설정 (Service Account 인증)
  - [x] 기본 CRUD 함수
    - [x] `getRows()` - 시트 데이터 읽기
    - [x] `appendRow()` - 행 추가
    - [x] `updateRow()` - 행 수정
    - [x] `deleteRow()` - 행 삭제
  - [x] 유틸리티 함수 (`getAllAsObjects`, `findRowByColumn`, `rowToObject` 등)
- [x] **연결 테스트**
  - [x] API Route로 연결 상태 확인 (/api/health)
  - [x] 테스트 완료: `{"status":"healthy","connected":true}`

#### 1.2 자체 로그인 시스템 (PRD 3.5) ✅ 완료 (2026-02-04)
- [x] **NextAuth.js 설정**
  - [x] Credentials Provider (ID/Password)
  - [x] 세션 관리 (JWT)
  - [x] Users 시트 기반 인증
- [x] **페이지 구현**
  - [x] 로그인 페이지 (/login)
  - [x] 로그아웃 기능 (signOut)
- [x] **미들웨어**
  - [x] 인증 체크 (미로그인 시 로그인 페이지로 리다이렉트)
  - [x] 권한 체크 (5단계: user/manager/admin/executive/sysadmin)
- [x] **권한별 접근 제어** ✅ (2026-02-05)
  - [x] user (일반): 프로젝트 조회만, 업무일지 접근 불가
  - [x] engineer (개발팀): 프로젝트/업무일지 전체 권한, 주간보고 등록
  - [x] admin (관리자): 모든 권한
  - [x] executive (경영진): 조회 전용 + 코멘트
  - [x] sysadmin (시스템): 사용자/시스템 관리 전용
  - [x] 프로젝트 생성/수정 버튼 권한 적용 (engineer, admin만)
  - [x] 업무일지 작성 버튼 권한 적용 (engineer, admin만)
  - [x] Sidebar 메뉴 권한 필터링 (user는 업무일지 메뉴 숨김)

#### 1.3 사용자 관리 CRUD (PRD 3.10) ✅ 완료 (2026-02-04)
- [x] **API Routes** (/api/users)
  - [x] GET /api/users - 목록 조회
  - [x] GET /api/users/[id] - 상세 조회
  - [x] POST /api/users - 생성
  - [x] PUT /api/users/[id] - 수정
  - [x] DELETE /api/users/[id] - 삭제 (비활성화)
- [x] **사용자 관리 페이지** (/admin/users) - sysadmin 전용
  - [x] 사용자 목록 (검색, 필터링)
  - [x] 사용자 생성 폼 (이름, ID, 비밀번호, 이메일, 권한, 소속)
  - [x] 사용자 수정/삭제
- [x] **권한 헬퍼 함수** (lib/auth.ts)
  - [x] hasRole, hasMinRole, canManageUsers

#### 1.4 프로젝트 CRUD (PRD 3.1) ✅ 완료 (2026-02-04)
- [x] **API Routes** (/api/projects)
  - [x] GET /api/projects - 목록 조회 (필터, 정렬, 페이징)
  - [x] GET /api/projects/[id] - 상세 조회
  - [x] POST /api/projects - 생성 (ID 자동 생성: PRJ-YYYY-NNN)
  - [x] PUT /api/projects/[id] - 수정 (변경 이력 기록)
  - [x] DELETE /api/projects/[id] - 삭제 (admin 이상)
- [x] **프로젝트 목록 페이지** (/projects)
  - [x] 테이블 뷰 (고객사, ITEM, 소속, 팀장, 현재단계, 대일정)
  - [x] 필터링 (상태, 소속, 단계, 팀장)
  - [x] 검색 (고객사, ITEM)
- [x] **프로젝트 생성/수정 폼**
  - [x] 필수: 고객사, ITEM, 팀장, 대일정
  - [x] 선택: PART NO, 소속, 구분, 모델, 팀원, 비고
  - [x] 단계 선택 (14개 중 체크박스)
  - [x] 팀장/팀원 선택 UI (드롭다운 + 태그)
  - [x] sysadmin 제외 (팀장/팀원 불가)
  - [x] 날짜 입력 자동 포맷팅 (20260204 → 2026-02-04)
- [x] **프로젝트 상세/수정**
  - [x] 기본 정보 표시
  - [x] 상태 관리 (진행/보류/완료)
  - [x] 단계 진행 관리 (현재 단계)
  - [x] 변경 이력 기록 (ProjectHistory)
- [ ] **프로젝트 상태 관리 (고급)** ← 부분 구현
  - [x] 상태 변경 (진행중/보류/완료)
  - [x] 상태 변경 시 이력 자동 기록
  - [ ] 완료 상태 변경 조건: 모든 선택 단계가 완료되어야 함
- [x] **단계 진행 관리 (고급)** ✅ (2026-02-05)
  - [x] 현재 단계 표시
  - [x] 단계별 상태 (⚪예정/🟡진행중/🟢완료)
  - [x] 단계 클릭 시 다음 단계로 자동 이동
  - [x] **단계 되돌리기** ✅ (2026-02-05)
    - [x] 완료된 단계 클릭 → 확인 팝업 → 해당 단계로 되돌아가기
    - [x] 이력은 ProjectHistory에 기록, 업무일지로 확인 가능
  - [x] 완료된 단계 삭제 불가
  - [x] 단계 관리 팝업 (추가/삭제)
- [ ] **전체 진도 관리** ← 미구현
  - [ ] 선택된 단계별 진행률 계산 (완료 단계 / 전체 단계)
- [ ] **투자비/원가 정보 관리** ← 미구현 (선택)
  - [ ] 예상 판매가, 자재비, 자재비율, 투자실비, 물량
- [ ] **대표 이미지** ← 미구현 (선택)
  - [ ] 프로젝트별 이미지 등록 (Google Drive 연동)

#### 1.5 업무일지 CRUD (PRD 3.2) ✅ 완료 (2026-02-05)
- [x] **API Routes** (/api/worklogs)
  - [x] GET /api/worklogs - 목록 조회 (날짜, 프로젝트, 작성자 필터)
  - [x] GET /api/worklogs/[id] - 상세 조회
  - [x] POST /api/worklogs - 생성 (participants 지원)
  - [x] PUT /api/worklogs/[id] - 수정 (본인만, participants 지원)
  - [x] DELETE /api/worklogs/[id] - 삭제 (본인만)
- [x] **업무일지 목록 페이지** (/worklogs)
  - [x] 테이블 뷰 (날짜, ITEM, 고객사, 단계, 담당자, 참여자, 업무내용)
  - [x] 필터링 (날짜 범위, 프로젝트, 작성자, 키워드)
  - [x] 전체 열람 가능 (모든 직원)
  - [x] 작성 버튼 → /worklogs/new 페이지 링크
  - [x] 수정 버튼 → /worklogs/[id]/edit 페이지 링크
- [x] **업무일지 작성/수정 페이지** (Roadmap 2.12) ✅ (2026-02-05)
  - [x] 전체 페이지 형식 (/worklogs/new, /worklogs/[id]/edit)
  - [x] 날짜 선택 (date picker - 달력 UI) ✅ (2026-02-05)
  - [x] 담당자 자동 입력 (로그인 사용자, 수정 불가)
  - [x] 프로젝트/단계 선택 (드롭다운, 연계 선택)
  - [x] **프로젝트 필터링** ✅ (2026-02-09)
    - [x] 본인 소속 프로젝트만 드롭다운에 표시 (팀장/팀원으로 등록된 프로젝트)
    - [x] 비소속 프로젝트는 선택 불가
  - [x] **단계 권한 분리** ✅ (2026-02-05)
    - [x] 팀장: 단계 드롭다운 활성화, 변경 시 프로젝트 자동 반영
    - [x] 팀원: 단계 드롭다운 비활성화 (currentStage 읽기 전용)
    - [x] 단계 변경 시 안내 메시지 및 확인 팝업 ✅ (2026-02-05)
  - [x] 참여자 선택 (프로젝트 팀장/팀원 중 선택)
  - [x] 계획, 업무 내용 입력
  - [x] **이슈사항 입력** ✅ (2026-02-05)
    - [x] issue 필드 (텍스트 입력)
    - [x] issueStatus (open/resolved)
    - [x] 수정 시 "해결됨" 체크박스
  - [x] 자동 반영 체크박스 (프로젝트 업무진행사항에 자동 반영)
  - [ ] 첨부파일 (Phase 3에서 구현)
- [x] **프로젝트 자동 연동** ✅ (2026-02-05)
  - [x] 업무일지 작성 시 → 프로젝트 '업무진행사항' 자동 반영 (API에서 처리)
  - [x] 업무일지 이슈사항 → 프로젝트 'issues' 자동 반영
  - [x] 팀장 단계 변경 → 프로젝트 'currentStage' 자동 반영
  - ※ 프로젝트 상세 페이지에서 업무진행사항 확인 UI 필요 (Phase 2에서 추가)



### Phase 2: 대시보드 & 일정 (PRD 3.3, 3.4) 🚀 진행 중

#### 2.0 레이아웃 구현 (Roadmap 2.1) ✅ 완료 (2026-02-05)
- [x] **Header + Sidebar 레이아웃**
  - [x] Header 컴포넌트 (로고, 알림, 사용자 정보, 로그아웃)
  - [x] Sidebar 컴포넌트 (메뉴 네비게이션)
  - [x] AppLayout 래퍼 컴포넌트
  - [x] 역할별 메뉴 필터링 (경영진, 시스템관리자 메뉴)
- [x] **루트 페이지 리다이렉트**
  - [x] 로그인 → /dashboard
  - [x] 비로그인 → /login

#### 2.1 대시보드 메인 화면 (PRD 3.4) ✅ 완료 (2026-02-05)
- [x] **대시보드 API** (/api/dashboard) ✅
  - [x] 단계별 프로젝트 수 집계 (검토: N, 설계: N, 개발: N, ...)
  - [x] 상태별 현황 (전체: N, 진행중: N, 보류: N, 즐겨찾기: N)
  - [x] 최근 업무일지 목록 (최근 5건)
  - [x] 이슈사항 현황 (issues가 있는 프로젝트)
- [x] **대시보드 페이지** (/dashboard) ✅
  - [x] 상태별 카드 (전체, 진행중, 보류, 즐겨찾기)
  - [x] 단계별 현황 차트 (9개 주요 단계)
  - [x] 최근 업무일지 테이블 (날짜, 프로젝트, 단계)
  - [x] 이슈사항 현황 (프로젝트별 이슈 목록)
  - [x] 즐겨찾기만 필터 버튼
  - [x] 새로고침 버튼
- [ ] **추가 기능** (TODO)
  - [ ] 소속별 프로젝트 수 (전장: N, 유압: N, 기타: N)
  - [ ] 프로젝트별 진행률 바 표시

#### 2.2 프로젝트 목록 UI (Roadmap 2.4) ✅ 완료 (2026-02-05)
- [x] **헤더 레이아웃**
  - [x] 📁 프로젝트 목록 타이틀
  - [x] [📥 Excel] 버튼 (비활성화, 추후 구현)
  - [x] [+ 새 프로젝트] 버튼
- [x] **필터 영역**
  - [x] 필터: 레이블 + 드롭다운들 한 줄 배치
  - [x] 상태/소속/단계 필터
  - [x] [⭐ 즐겨찾기] 버튼 (비활성화, 추후 구현)
  - [x] 🔍 검색 입력
- [x] **테이블**
  - [x] 단계 색상 표시 (🟢완료, 🟡진행중, 🔴보류)
  - [x] 페이지네이션 (< 1 2 3 ... > 총 N건)
  - [x] 상세 → 링크 (상세 페이지에서 수정/삭제)
  - [x] 삭제 버튼 제거 (상세 페이지로 이동) ✅ (2026-02-05)

#### 2.3 프로젝트 상세 페이지 (Roadmap 2.6) ✅ 완료 (2026-02-05)
- [x] **페이지 구조** (/projects/[id]) ✅
  - [x] 헤더: ← 목록으로 + 📁 프로젝트 상세 + [⭐] + [수정] + [삭제]
  - [x] 기본 정보 카드 (이미지 플레이스홀더, 고객사, ITEM, PART NO 등)
  - [x] 상태 드롭다운 (진행중/보류/완료) - 이력 자동 기록
  - [x] 단계 진행 표시 (🟢완료/🟡진행중/⚪예정) - 가로 프로그레스 바
- [x] **삭제 기능** ✅
  - [x] 프로젝트 목록에서 삭제 버튼 제거
  - [x] 상세 페이지에서만 삭제 가능 (admin 권한, 확인 다이얼로그)
- [x] **단계 클릭 완료 처리** ✅ (2026-02-05)
  - [x] 현재 단계 클릭 → 완료 처리 후 다음 단계로 이동
  - [x] 미래 단계 클릭 → 중간 단계 모두 완료 처리
  - [x] **단계 되돌리기** ✅ (2026-02-06)
    - [x] 완료된 단계 클릭 → 확인 팝업 → 해당 단계로 되돌아가기
    - [x] 되돌아간 이후 단계는 다시 ⚪예정 상태로 표시
- [x] **단계 관리 팝업** ✅ (2026-02-05)
  - [x] 단계 관리 버튼 (engineer, admin 권한)
  - [x] 현재 단계 목록 표시 (🟢완료/🟡진행중/⚪예정)
  - [x] 단계 추가 (14개 전체 단계 중 선택)
  - [x] 단계 삭제 (⚪예정만 삭제 가능, 완료/진행중 삭제 불가)
- [x] **업무진행사항 탭** ✅ (2026-02-06 개선)
  - [x] 날짜 필터 (기본 1주일, 달력 선택)
  - [x] 업무일지 카드 목록 (날짜, 담당자, 단계, 계획:내용 4:6 비율)
  - [x] "✅ 처리완료" 링크 (이슈 해결 처리)
  - [x] 이슈사항 섹션 (미해결 이슈만 표시, 경고 스타일)
  - [x] 업무일지 추가 버튼 → /worklogs/new로 이동
  - [x] **세부추진항목 표시** ✅ (2026-02-06)
    - [x] 업무일지 카드에 연결된 세부추진항목 배지 (파란색) ✅
    - [x] 이슈사항에 단계 배지 + 세부추진항목 배지 ✅
    - [x] getScheduleName 헬퍼 함수 추가 ✅
- [x] **일정 탭** ✅ (2026-02-06)
  - [x] 테이블 뷰 + 간트차트 뷰 (2.4에서 구현)
- [ ] **추가 탭 (추후 구현)**
  - [ ] 💰 원가
  - [ ] 📎 첨부파일

#### 2.4 개별 일정표 - 세부추진항목 (PRD 3.3, Roadmap 2.8~2.9) ✅ 완료 (2026-02-06)

##### 2.4.1 세부추진항목 API (/api/schedules) ✅
- [x] GET /api/schedules?projectId=xxx - 프로젝트별 항목 조회 ✅
- [x] POST /api/schedules - 항목 생성 ✅
- [x] PUT /api/schedules/[id] - 항목 수정 ✅
- [x] DELETE /api/schedules/[id] - 항목 삭제 ✅

##### 2.4.2 세부추진항목 등록/수정 모달 (Roadmap 2.9) ✅
- [x] 모달 컴포넌트 구현 (인라인 모달) ✅
- [x] **필수 입력 항목:** ✅
  - [x] 프로젝트 단계 (드롭다운, 프로젝트 stages에서 선택) ✅
  - [x] 항목명 (텍스트) ✅
  - [x] 계획 시작일 (달력 UI) ✅
  - [x] 계획 종료일 (달력 UI) ✅
  - [x] 업무 구분 (라디오: 주관/협조) ✅
- [x] **선택 입력 항목:** ✅
  - [x] 관련 부문 (드롭다운: 영업/생산/구매/품질/설계) ✅
  - [x] 비고 (텍스트) ✅
- [x] 저장/취소 버튼 ✅

##### 2.4.3 실적 입력 기능 ✅ 완료 (2026-02-06)
- [x] **수동 입력:** ✅
  - [x] 실적 시작일 (달력 UI, 선택) ✅
  - [x] 실적 종료일 (달력 UI, 선택) ✅
- [x] **업무일지 연동:** ✅ (2026-02-06)
  - [x] 업무일지 작성 시 세부추진항목 선택 드롭다운 ✅
  - [x] 업무일지 저장 시 해당 세부추진항목 실적 자동 업데이트 ✅
  - [x] 연동 로직: 업무일지 날짜 → 실적 시작일(첫 작성), 실적 종료일(최종 작성) ✅
- [x] **상태 자동 계산:** ✅ (2026-02-06)
  - [x] 예정: 계획 시작일 > 오늘 AND 실적 시작일 없음 ✅
  - [x] 진행중: 실적 시작일 있음 AND 실적 종료일 없음 ✅
  - [x] 완료: 실적 종료일 있음 ✅
  - [x] 지연: 계획 시작일 ≤ 오늘 AND 실적 시작일 없음 ✅
- [x] **일정표 갱신 버튼:** ✅ (2026-02-06)
  - [x] Google Sheets에서 최신 데이터 로드 ✅
  - [x] 오늘 날짜 기준 상태 재계산 ✅
- [x] **완료 버튼 (관리 컬럼):** ✅ (2026-02-06)
  - [x] 표시 조건: 상태가 "진행중"일 때만 표시 ✅
  - [x] 클릭 시: 실적 종료일 = 오늘 날짜 설정 → 상태 "완료"로 변경 ✅

##### 2.4.4 개별 일정표 탭 UI (Roadmap 2.8) ✅
- [x] 📅 일정 탭 추가 (ProjectDetailClient.tsx) ✅
- [x] **테이블 뷰 구현:** ✅
  - [x] 단계 | 항목명 | 계획 | 실적 | 구분 | 상태 | 관리 컬럼 ✅
  - [x] 상태별 색상 배지 (예정/진행중/완료/지연) ✅
- [x] **간트차트 뷰 구현:** ✅
  - [x] gantt-task-react 라이브러리 설치 ✅
  - [x] GanttChart 컴포넌트 (src/components/schedules/GanttChart.tsx) ✅
  - [x] 뷰 모드 토글 (일/주/월) ✅
  - [x] 상태별 색상 (예정-회색, 진행중-파랑, 완료-초록, 지연-빨강) ✅
  - [x] 범례 표시 ✅
- [x] **UI 기능:** ✅
  - [x] [+ 항목 추가] 버튼 → 등록 모달 ✅
  - [x] 항목 클릭 → 수정 모달 ✅
  - [x] 📋 표/📊 간트 뷰 토글 버튼 ✅
  - [ ] [📥 Excel] 다운로드 버튼 (향후 구현)

#### 2.5 즐겨찾기 기능 (PRD 3.4) ✅ 완료 (2026-02-06)
- [x] **즐겨찾기 API** (/api/favorites) ✅
  - [x] GET - 내 즐겨찾기 목록 조회 ✅
  - [x] POST - 즐겨찾기 등록 ✅
  - [x] DELETE - 즐겨찾기 해제 ✅
- [x] **즐겨찾기 UI** ✅
  - [x] 프로젝트 목록에 ⭐ 버튼 추가 ✅
  - [x] 프로젝트 상세 페이지에 ⭐ 버튼 추가 ✅
  - [x] 대시보드에 즐겨찾기 필터 버튼 ✅
  - [x] 대시보드 카운트 연동 ✅
  - [x] 즐겨찾기 필터 시 업무일지/이슈 필터링 ✅
- [x] **즐겨찾기 필터 고도화** ✅ (2026-02-06)
  - [x] 즐겨찾기 필터가 기본값으로 설정 (모든 페이지) ✅
  - [x] 대시보드: 상태별 카드도 즐겨찾기 기준으로 필터링 ✅
  - [x] 대시보드: 단계별 현황도 즐겨찾기 기준으로 필터링 ✅
  - [x] 프로젝트 목록: 즐겨찾기 필터 기본 활성화 ✅

#### 2.6 전체 일정 - 간트차트 (PRD 3.3, Roadmap 2.13) ✅ 완료 (2026-02-06)

##### 2.6.1 간트차트 라이브러리 설정 ✅
- [x] 라이브러리 선택 → **gantt-task-react** (기존 세부추진항목 간트차트와 동일) ✅
- [x] 라이브러리 설치 및 기본 설정 ✅
- [x] 스타일 커스터마이징 (브랜드 색상 적용) ✅

##### 2.6.2 전체 일정 페이지 (/schedules) ✅
- [x] 페이지 생성 (src/app/schedules/page.tsx) ✅
- [x] SchedulesClient 클라이언트 컴포넌트 ✅
- [x] Sidebar 메뉴에 "📅 전체 일정" 추가 ✅
- [x] **간트차트 데이터 API** (/api/schedules/gantt) ✅
  - [x] 전체 프로젝트 대일정 데이터 조회 ✅
  - [x] 응답 형식: { projects: GanttProject[], dateRange, totalCount } ✅

##### 2.6.3 전체 프로젝트 대일정 간트차트 UI ✅
- [x] **기본 표시:** ✅
  - [x] 프로젝트별 시작일~종료일 바 표시 ✅
  - [x] 프로젝트명 + 고객사 레이블 ✅
  - [x] 오늘 날짜 표시 ✅
- [x] **상태별 색상:** ✅
  - [x] 진행중 (파랑) ✅
  - [x] 보류 (주황) ✅
  - [x] 완료 (초록) ✅
- [x] **필터 기능:** ✅
  - [x] 즐겨찾기 필터 (기본 활성화) ✅
  - [x] 상태 필터 (전체/진행중/보류/완료) ✅
  - [x] 소속 필터 (전장/유압/기타) ✅
  - [x] 구분 필터 (농기/중공업/해외/기타) ✅
- [x] **UI 컨트롤:** ✅
  - [x] 일/주/월 뷰 모드 토글 ✅
  - [x] 범례 표시 ✅
  - [x] 프로젝트 바 클릭 → 상세 페이지 이동 ✅
  - [ ] [📥 Excel] 다운로드 버튼 (Phase 3)

##### 2.6.4 계획 vs 실적 비교 시각화 (Phase 3)
- [ ] 계획 바 (파란색) + 실적 바 (초록색) 이중 표시
- [ ] 지연 프로젝트 빨간색 강조 (종료일 초과)
- [x] 진행률 표시 (%) - 오늘 날짜 기준 자동 계산 ✅

##### 2.6.5 간트차트 드릴다운 ✅ 구현 완료 (2026-02-09)
- [x] 프로젝트 클릭 시 → 기간별 진행현황 모달 표시 ✅ (2026-02-09)
- [x] **모달 내용 (Roadmap 2.19):** ✅ (2026-02-09)
  - [x] 프로젝트 기본 정보 (고객사/ITEM, 상태, 진행률)
  - [x] **년/월 선택 드롭다운** ✅ (2026-02-09)
    - [x] 조회 기간 변경 시 데이터 재조회
    - [x] 탭 제목에 선택 월 표시 ("주간 보고 (2월)")
  - [x] 탭 1: 주간 보고 목록 (년/월 필터링)
  - [x] 탭 2: 단계 변경 이력 (년/월 필터링, changedBy 표시)
  - [x] 탭 3: 세부추진항목 현황 (해당 월과 기간 겹치는 항목)
- [x] 프로젝트 상세 보기 버튼 → 상세 페이지 이동 ✅



### Phase 3: 고급 기능 (PRD 3.7~3.13) 🚀 진행 중

#### 3.1 주간 보고서 (PRD 3.13) ✅ 부분 완료 (2026-02-09)
- [x] **주간 보고 API** (/api/weekly-reports) ✅
  - [x] GET - 주차별 보고 목록 조회 ✅
  - [x] POST - 주간 보고 등록 ✅
  - [x] PUT - 주간 보고 수정 (관리자/작성자) ✅
  - [x] DELETE - 소프트 삭제 ✅
- [x] **공지사항 API** (/api/weekly-report-notices) ✅ (2026-02-09)
  - [x] GET - 주차별 공지사항 조회 ✅
  - [x] POST - 공지사항 생성/수정 (관리자) ✅
- [x] **주간 보고 등록 폼** (/weekly-reports/new) ✅
  - [x] 주차 선택 (자동 계산: YYYY년 MM월 W주차) ✅
  - [x] 구분 선택 (농기/중공업/해외/기타) ✅
  - [x] 고객사/ITEM 입력 ✅
  - [x] 주요 추진 실적 및 계획 (텍스트) ✅
- [x] **주간 보고 목록 화면** (/weekly-reports) ✅
  - [x] 주차별 전체 보고 통합 표시 ✅
  - [x] 구분별 그룹핑 (농기 → 중공업 → 해외 → 기타) ✅
  - [x] **제출용 토글** (👁️ 눈 아이콘) ✅ (2026-02-09)
    - [x] 눈 열림 = 보고서에 포함
    - [x] 눈 감김 = 보고서에서 제외
  - [x] 관리자: 순서 변경 (↑↓) ✅
  - [x] 관리자/작성자: 수정 버튼 ✅
  - [x] **공지사항 섹션** ✅ (2026-02-09)
    - [x] 공지사항 표시 (줄바꿈으로 항목 구분)
    - [x] 관리자 편집 기능
- [x] **보고서 미리보기 모달** ✅ (2026-02-09)
  - [x] 관리자 전용 접근 ✅
  - [x] 제출용(isIncluded=true) 항목만 표시 ✅
  - [x] 인쇄/PDF 저장 버튼 ✅
  - [x] 인쇄용 레이아웃 (깔끔한 테이블) ✅
  - [x] 공지사항 섹션 표시 ✅
- [x] **날짜/시간대 처리** ✅ (2026-02-09)
  - [x] 한국 시간대(KST, UTC+9) 기준 ✅
  - [x] 월-금 근무일 기반 주차 계산 ✅
  - [x] 공통 유틸리티 모듈 (src/lib/weekUtils.ts) ✅
- [ ] **업무일지 기반 초안 자동 생성** (향후)
  - [ ] 해당 주차 업무일지 불러오기
  - [ ] 팀장 편집/보완
- [ ] **AI 정리 기능** (향후)
  - [ ] Google Gemini API 연동
  - [ ] 자동 요약 체크박스
- [ ] **다운로드**
  - [x] PDF 다운로드 (브라우저 인쇄 기능) ✅
  - [ ] 엑셀 다운로드 (.xlsx)

#### 3.2 경영진 대시보드 (PRD 3.4) ✅ 완료 (2026-02-11)
- [x] **경영진 메인 대시보드** (/executive) ✅ (2026-02-11)
  - [x] 즐겨찾기 프로젝트 현황 카드 (최대 6~8개) ✅
  - [x] 카드 내용: 고객사/ITEM, 현재단계, 진행률, 계획대비 상태 ✅
  - [x] 전체 요약: 정상/지연/완료 프로젝트 수 ✅
  - [x] 금주 주간 보고 요약 ✅
- [x] **프로젝트 상세 팝업** (카드 클릭 시) ✅ (2026-02-11)
  - [x] 기본 정보: 현재단계, 진행률, 상태, 대일정, 팀장 ✅
  - [x] 단계별 진행 시각화 (완료/진행중/예정) ✅
  - [x] 탭 구조: 주간보고/단계변경이력/세부추진항목 (년/월 필터) ✅
  - [x] 이슈사항 목록 ✅
  - [x] 경영진 코멘트 + 팀장 답변 (스레드) ✅
  - [x] 코멘트 작성 버튼 → CommentModal ✅
- [x] **계획 vs 실적 비교 페이지** (/executive/comparison) ✅ (2026-02-11)
  - [x] 년도 필터, 즐겨찾기 토글 ✅
  - [x] 월별 계획/실적 바 표시 (파랑=계획, 줄무늬초록=실적) ✅
  - [x] 프로젝트 상태 표시 (🟢정상/🟡지연/✅완료) ✅
  - [x] 건강 상태 계산 로직 통일 (예상 진행률 대비 10% 이상 뒤처짐 = 지연) ✅
- [x] **경영진 코멘트 기능** ✅ (2026-02-11)
  - [x] 코멘트 API (/api/comments) - GET/POST ✅
  - [x] 코멘트 상세 API (/api/comments/[id]) - GET/DELETE ✅
  - [x] 경영진: 코멘트 작성 모달 (CommentModal) ✅
  - [x] 팀장: 프로젝트 상세 페이지 경영진코멘트 탭에서 확인/답변 ✅
  - [ ] 코멘트 알림 (해당 팀장에게) - Phase 3.4

#### 3.3 파일 첨부 (PRD 3.7) ⚠️ Google Workspace 필요
> **보류 사유:** Service Account는 Google Drive 저장 공간이 없어 파일 업로드 불가.
> Google Workspace의 Shared Drives 또는 OAuth 사용자 인증 필요.

- [ ] **Google Drive 연동 설정** (Workspace 도입 후)
  - [ ] Shared Drives 설정
  - [ ] 업로드 폴더 설정
- [ ] **첨부파일 API** (/api/attachments)
  - [ ] POST - 파일 업로드 (Google Drive)
  - [ ] GET - 파일 목록 조회
  - [ ] DELETE - 파일 삭제
- [ ] **첨부파일 UI**
  - [ ] 프로젝트 상세에 파일 첨부 영역
  - [ ] 업무일지에 파일 첨부 영역
  - [ ] 파일 미리보기 (이미지, PDF)
  - [ ] 파일 다운로드

#### 3.4 알림 기능 (PRD 3.8)
- [ ] **Gmail API 연동 설정**
- [ ] **알림 API** (/api/notifications)
  - [ ] 이메일 발송 함수
  - [ ] 알림 이력 저장
- [ ] **알림 트리거**
  - [ ] 마감일 임박 (D-7, D-3, D-1)
  - [ ] 프로젝트 단계 변경 시
  - [ ] 이슈사항 등록 시 (팀장에게)
  - [ ] 경영진 코멘트 시 (팀장에게)
- [ ] **알림 설정 UI**
  - [ ] 사용자별 알림 On/Off 설정

#### 3.5 고급 검색/필터 (PRD 3.9) ✅ 완료 (2026-02-11)
- [x] **복합 조건 검색** ✅
  - [x] 날짜 범위 + 프로젝트 + 단계 + 담당자 조합 ✅
  - [x] 고객사, 소속 필터 ✅
  - [x] 진행여부 (진행/보류/완료) ✅
- [x] **키워드 검색** ✅
  - [x] 업무진행사항, 이슈사항 내용 검색 ✅
  - [x] 검색 범위 체크박스 (업무진행사항/이슈사항 선택) ✅
- [x] **검색 결과 정렬** ✅
  - [x] 날짜, 프로젝트명, 단계, 담당자, 고객사 ✅
- [x] **검색 조건 저장** ✅
  - [x] SavedSearches 시트/API 구현 ✅
  - [x] 저장된 검색 드롭다운 컴포넌트 ✅
- [x] **고급 검색 페이지** (/search) ✅
  - [x] Sidebar에 메뉴 추가 ✅
  - [x] 권한 체크 (engineer 이상 또는 executive) ✅

#### 3.6 엑셀 다운로드 (PRD 3.12) ✅ 완료 (2026-02-11)
- [x] **프로젝트 목록 다운로드** ✅
  - [x] 현재 필터 적용된 목록 (검색, 상태, 소속, 단계, 즐겨찾기)
  - [x] 컬럼: No, 상태, 고객사, ITEM, PART NO, 소속, 구분, 모델, 팀장, 팀원, 현재단계, 시작일, 종료일, 비고
  - [x] 파일명: 프로젝트목록_YYYYMMDD.xlsx
- [x] **업무일지 목록 다운로드** ✅
  - [x] 현재 필터 적용된 목록 (날짜, 프로젝트, 담당자, 단계, 키워드)
  - [x] 컬럼: No, 날짜, ITEM, 고객사, 단계, 담당자, 참여자, 계획, 업무내용, 이슈사항, 이슈상태
  - [x] 파일명: 업무일지_YYYYMMDD.xlsx
  - [x] 권한: engineer 이상
- [x] **일정 데이터 다운로드** ✅
  - [x] 전체 간트차트(type=gantt): 프로젝트 대일정
    - [x] 컬럼: No, 프로젝트ID, 상태, 고객사, ITEM, 소속, 구분, 팀장, 현재단계, 시작일, 종료일
    - [x] 파일명: 전체일정표_YYYYMMDD.xlsx
  - [x] 세부추진항목(type=detail): 선택 프로젝트 또는 전체
    - [x] 컬럼: No, 프로젝트, 단계, 항목명, 계획시작일, 계획종료일, 실적시작일, 실적종료일, 업무구분, 관련부문, 상태, 비고
    - [x] 파일명: 세부추진항목_YYYYMMDD.xlsx, 일정표_프로젝트명_YYYYMMDD.xlsx

#### 3.7 회의록 기능 (PRD 3.14) ✅ 완료 (2026-02-11)
- [x] **회의록 API** (/api/meeting-minutes) ✅
  - [x] GET /api/meeting-minutes?projectId=xxx - 프로젝트별 목록 조회 ✅
  - [x] POST /api/meeting-minutes - 회의록 생성 ✅
  - [x] GET /api/meeting-minutes/[id] - 상세 조회 ✅
  - [x] PUT /api/meeting-minutes/[id] - 회의록 수정 ✅
  - [x] DELETE /api/meeting-minutes/[id] - 회의록 삭제 ✅
- [x] **회의록 타입 정의** (src/types/meetingMinutes.ts) ✅
  - [x] MeetingMinutes, MeetingMinutesListItem, MeetingMinutesDetail ✅
  - [x] CreateMeetingMinutesInput, UpdateMeetingMinutesInput ✅
  - [x] Attendee 타입 (소속/직위/성명) ✅
- [x] **회의록 컴포넌트** ✅
  - [x] MeetingMinutesSection.tsx - 프로젝트 상세 탭 섹션 ✅
  - [x] MeetingMinutesModal.tsx - 작성/수정 모달 ✅
  - [x] MeetingMinutesViewer.tsx - 조회 모달 ✅
- [x] **프로젝트 상세 페이지 통합** ✅
  - [x] '📋 회의록' 탭 추가 ✅
  - [x] 회의록 목록/작성/조회/수정/삭제 ✅
- [x] **경영진 대시보드 연동** ✅ (2026-02-11)
  - [x] 최근 회의록 섹션 (금주 주간보고 → 최근 회의록 대체) ✅
  - [x] 즐겨찾기 프로젝트만 필터링 ✅
  - [x] 1개월 이내 회의록 최대 10건 표시 ✅
  - [x] 회의록 제목 클릭 시 팝업 보기 ✅
- [x] **데이터 저장** ✅
  - [x] Google Sheets MeetingMinutes 시트 ✅
  - [x] 본문 필드 직접 저장 (agenda, discussion, decisions, nextSteps) ✅

---

  

## 🎯 핵심 결정 사항

  

### 아키텍처

- **프레임워크**: Next.js 14+ (App Router)

- **데이터베이스**: Google Sheets (Service Account 연동)

- **인증**: 자체 로그인 (ID/Password)

- **배포**: 회사 내부 서버 (On-premise)

- **중요**: 별도의 백엔드 API 서버 없음 → Next.js API Routes만 사용

  

### 개발 방식

- **개발자**: Claude (AI) 100% 코드 작성

- **사용자 역할**: 요구사항, 테스트, 승인

- **테스트**: 자동 테스트 코드 작성 + 매 기능마다 수동 테스트

- **문서화**: AI가 이해하기 쉽게 명확한 주석

  

### 명명 규칙

- **컴포넌트**: PascalCase (ProjectList.tsx)

- **함수/유틸**: camelCase (formatDate.ts)

- **상수**: UPPER_SNAKE_CASE (API_BASE_URL)

- **Git 커밋**: 간단한 한글 메시지

  

---

  

## 📁 문서 구조

  

```

ProjectManager/

└── docs/

    ├── README.md           # 문서 디렉토리 안내

    ├── 00-rules/           # 🚨 프로젝트 규칙

    │   └── PROJECT_RULES.md

    ├── 01-planning/        # 📋 기획 문서

    │   ├── PRD.md

    │   └── Roadmap.md

    ├── 02-technical/       # 🛠️ 기술 문서

    │   ├── Mermaid.md

    │   └── Database_ERD.md

    ├── 03-guides/          # 📖 가이드

    │   └── claude 사용법.md

    └── 05-tracking/        # 📊 진행 상황

        └── PROGRESS.md (현재 문서)

```

  

---

  

## 🔗 빠른 참조

  

| 문서 | 용도 |

|------|------|

| [00-rules/PROJECT_RULES.md](../00-rules/PROJECT_RULES.md) | **반드시 먼저 읽기** - 개발 규칙 |

| [01-planning/PRD.md](../01-planning/PRD.md) | 프로젝트 요구사항 상세 |

| [01-planning/Roadmap.md](../01-planning/Roadmap.md) | UI/UX 와이어프레임 |

| [02-technical/Mermaid.md](../02-technical/Mermaid.md) | 시스템 아키텍처 |

| [README.md](../README.md) | 문서 디렉토리 안내 |

  

---

  

## 💡 새 세션 시작 시

  

1. **[00-rules/PROJECT_RULES.md](../00-rules/PROJECT_RULES.md)** 먼저 확인

2. **[05-tracking/PROGRESS.md](PROGRESS.md)** (이 문서)에서 다음 단계 확인

3. [PRD.md](../01-planning/PRD.md)와 [Roadmap.md](../01-planning/Roadmap.md) 참조하며 개발 시작

  

---

  

## 📝 메모

  

- 경영진 대시보드는 즐겨찾기 기반 (6~8개 프로젝트)

- 주간 보고는 Gemini API로 AI 요약 기능

- 간트차트는 업무일지 대신 주간 보고로 드릴다운 (항목 최소화)

- 모든 데이터는 Google Sheets에 저장, 별도 DB 없음